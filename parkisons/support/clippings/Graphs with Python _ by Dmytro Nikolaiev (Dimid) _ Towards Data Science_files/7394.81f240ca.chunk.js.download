"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[7394],{15088:(e,t,n)=>{n.d(t,{h:()=>S,s:()=>k});var r=n(50014),l=n.n(r),o=n(6638),a=n.n(o),i=n(96540),s=n(29977),c=n(7580),d=n(22841),u=n(52290),m=n(86975),p=n(41299),V=n(5600),f=n(44402),g=n(42600),h=n(21202),v=n(18599),E=n(60213),x=n(64122),b=function(e){var t=e.diameter,n=e.zIndex,r=e.showBorder,l=e.borderColor;return function(e){return{display:"block",width:"".concat(r?t+4:t,"px"),height:"".concat(r?t+4:t,"px"),borderRadius:"50%",border:r?"".concat(2,"px solid ").concat(null!=l?l:e.backgroundColor):"none",zIndex:n}}},y=function(e){return{background:e.colorTokens.background.neutral.secondary.base,border:"2px solid white",borderRadius:"50%",width:"36px",height:"36px"}},w=function(e,t){return{display:"grid",alignItems:"end",gridTemplateColumns:"repeat(".concat(t,", ").concat(e.toPrecision(3),"%)")}},A=function(e){var t=e.numUsers,n=e.diameter,r=e.withAnimation,l=e.children,o=(0,f.l)(),a=(0,h.L)(),s=n*t,c=100/(t+1),d=t>1?(t>1?(n+4)*t:n)*(1-c/100):n,m=r?[w(c,t),function(){return a}]:w(c,t);return i.createElement(u.a,{width:"".concat(d,"px")},i.createElement(u.a,{width:"".concat(s,"px")},i.createElement("div",{className:o(m)},l)))},k=function(e){var t=e.maxNumEntities,n=void 0===t?12:t,r=e.entities,o=e.error,a=e.loading,s=e.entityElementKey,c=e.showNextAvatarOnTop,d=void 0!==c&&c,u=e.diameter,m=void 0===u?36:u,p=e.noBackgroundShadow,V=Math.min(r.length,n),f=i.useMemo((function(){return l()(r,(function(e){return e.id})).slice(0,V)}),[r,V]);return(V=f.length)?o?null:a?i.createElement(C,{numUsers:V,diamereter:m,entityElementKey:s,withAnimation:!0}):i.createElement(A,{numUsers:V,diameter:m},f.map((function(e,t){var n,l,o=d?t:r.length-t;if("Collection"===e.__typename)n=null===(l=e.avatar)||void 0===l?void 0:l.id;else if("User"===e.__typename)n=e.imageId;else if("NewsletterV3"===e.__typename){var a,c,u;n=e.collection?e.avatarImageId||(null===(a=e.collection)||void 0===a||null===(c=a.avatar)||void 0===c?void 0:c.id):null===(u=e.user)||void 0===u?void 0:u.imageId}return i.createElement(I,{key:"".concat(s,"-").concat(e.id),diameter:m,zIndex:o,showBorder:f.length>1,miroId:n,entityName:e.name,noBackgroundShadow:p})}))):null},I=function(e){var t=e.diameter,n=e.zIndex,r=e.showBorder,l=e.miroId,o=e.entityName,a=e.noBackgroundShadow,s=void 0===a||a,d=e.showAvatarBorder,u=void 0!==d&&d,m=e.showHoverState,p=void 0!==m&&m,V=e.borderColor,h=e.testId,v=(0,f.l)();return i.createElement("div",{className:v(b({diameter:t,zIndex:n,showBorder:r,borderColor:V}))},i.createElement(c.r,{miroId:l||g._3,alt:o||"",diameter:t,freezeGifs:!0,noBackgroundShadow:s,showBorder:u,showHoverState:p,testId:h}))},C=function(e){var t=e.numUsers,n=e.diamereter,r=e.withAnimation,l=e.entityElementKey,o=(0,f.l)();return i.createElement(A,{numUsers:t,diameter:n,withAnimation:r},a()(t,(function(e){return i.createElement(u.a,{key:"".concat(l,"-placeholder-").concat(e),zIndex:t-e},i.createElement("div",{className:o(y)}))})))},S=function(e){var t,n=e.author,r=e.collection,l=e.authorSize,o=e.collectionImageSize,a=e.collectionOffset,c=e.borderColor,f=e.withAuthorTooltip,g=e.authorTestId,h=e.collectionTestId,b=null!=l?l:44,y=null!=o?o:24,w=(0,E.u)(),A=(0,x.W)();if(!n)return null;var k=i.createElement(I,{diameter:b,zIndex:0,showBorder:!0,miroId:n.imageId,entityName:n.name,noBackgroundShadow:!0,showAvatarBorder:!0,showHoverState:!0,borderColor:c,testId:g});return i.createElement(u.a,{display:"flex",alignItems:"baseline"},i.createElement(m.D,{href:A(n)},f?i.createElement(p.R,{placement:"bottom",targetDistance:s.f,mouseLeaveDelay:100,mouseEnterDelay:V.A,noArrow:!0,popoverRenderFn:function(){return function(e){return i.createElement(d.J,{user:e})}(n)},role:"tooltip"},k):k),r&&i.createElement(m.D,{href:w(r)},i.createElement(u.a,{display:"flex",marginLeft:null!=a?a:"-12px",position:"relative"},i.createElement(p.R,{placement:"bottom",targetDistance:v.r,mouseLeaveDelay:100,mouseEnterDelay:V.A,noArrow:!0,popoverRenderFn:function(){return function(e){return i.createElement(v.a,{collection:e})}(r)},role:"tooltip"},i.createElement(I,{diameter:y,zIndex:1,showBorder:!0,miroId:null===(t=r.avatar)||void 0===t?void 0:t.id,entityName:r.name,noBackgroundShadow:!0,showAvatarBorder:!0,showHoverState:!0,borderColor:c,testId:h})))))}},40340:(e,t,n)=>{n.d(t,{J:()=>s});var r=n(96540),l=n(52290),o=n(36557),a=n(44402),i=function(e){return function(t){return{position:"absolute",clip:"rect(0px 14px 14px -3px)",":after":{content:"''",display:"block",width:"11px",height:"11px",background:null!=e?e:t.colorTokens.background.neutral.secondary.base,borderBottomRightRadius:"1px",transform:"rotate(45deg) translate(-4px, -4px)"}}}},s=function(e){var t=e.children,n=e.padding,s=void 0===n?{xs:"16px",sm:"16px",md:"16px",lg:"16px 24px",xl:"16px 24px"}:n,c=e.borderRadius,d=void 0===c?"8px":c,u=e.backgroundColor,m=e.shouldShowArrowDown,p=void 0!==m&&m,V=(0,a.l)();return r.createElement(r.Fragment,null,r.createElement("div",{className:V((function(e){return{position:"relative",padding:s,borderRadius:d,background:null!=u?u:e.colorTokens.background.neutral.secondary.base}}))},r.createElement(o.kZ,{scale:"M",color:"DARKER"},t)),p&&r.createElement(l.a,{marginLeft:{xs:"18px",sm:"18px",md:"26px",lg:"26px",xl:"26px"}},r.createElement("div",{className:V(i(u))})))}},27394:(e,t,n)=>{n.d(t,{D:()=>je});var r,l=n(96540),o=n(70370),a=n(27721),i=n(79197),s=n(72130),c=n(44402),d=n(50684),u=n(64122),m=n(86527),p=n(51260),V=n(42976),f=n(46879),g=n(94644),h=n(40340),v=function(e){var t=e.children;return l.createElement(h.J,{padding:{xs:"16px",sm:"16px",md:"16px",lg:"16px 24px",xl:"16px 24px"},shouldShowArrowDown:!0},t)},E=n(43634),x=n(30572),b=n(49287),y=n(71836),w=function(e){switch(e){case 0:return"metered_view_3";case 1:return"metered_view_2";default:return"smart_meter"}},A=function(e){var t=e.children,n=e.isLoggedIn,r=e.post,o=e.numFreeStoriesRemaining,a=void 0===o?0:o,i=e.susiEntry,s=e.dimension,c=void 0===s?"post_counter":s,d=e.inline,u=e.linkStyle,m=e.tag,V=e.source,f=void 0===V?"upgrade_membership":V,g=e.href,h=(0,p.au)(),v=r.id;return n?l.createElement(y.C,{source:f,dimension:c,sourceProviderData:{postId:v},eventData:{postId:v},tag:m},l.createElement(x.a,{post:r,redirectUrl:null!=g?g:h("ShowPay",{}),inline:d,linkStyle:u},t)):l.createElement(b.Ne,{source:{postId:r.id}},l.createElement(E.r,{operation:"register",susiEntry:i||w(a),inline:d,linkStyle:u},t))},k=function(e){var t=e.user,n=(0,u.f)(t);return l.createElement(l.Fragment,null,l.createElement(m.N,{href:n,linkStyle:"OBVIOUS",inline:!0},(0,g.PK)(t.name))," ","Friend Link.")},I=function(){var e=(0,f.ZZI)();return l.createElement(m.N,{href:e,linkStyle:"OBVIOUS",inline:!0},"Learn more")},C=function(e){var t,n,r,o=e.post,a=e.viewer,i=null!==(t=o.content.shareKeyCreator)&&void 0!==t?t:o.creator,s=null==a?void 0:a.id,c=(0,p.au)();return o.content.validatedShareKey?(null===(n=o.creator)||void 0===n?void 0:n.id)===s||(null==i?void 0:i.id)===s?l.createElement(l.Fragment,null,"You're reading via your own Friend Link. ",l.createElement(I,null)):l.createElement(l.Fragment,null,"You're reading ",null!=a&&a.membership?null:"for free"," via"," ",i&&i.name?l.createElement(k,{user:i}):"a Friend Link."," ",(null==a||null===(r=a.membership)||void 0===r?void 0:r.tier)===V.T3.FRIEND?l.createElement(I,null):l.createElement(l.Fragment,null,l.createElement(A,{post:o,isLoggedIn:!!a,source:"friend_link",susiEntry:"post_friend_link_meter",dimension:"post_friend_link_meter",tag:"span",linkStyle:"OBVIOUS",href:c("ShowManageMembershipPage",{}),inline:!0},a?"Upgrade":"Become a member")," ","to access the best of Medium.")):l.createElement(l.Fragment,null,"You're unable to read via this Friend Link since it's expired. ",l.createElement(I,null))},S=function(e){return l.createElement(v,null,l.createElement(C,e))},R=function(e){return{fontWeight:e.newFonts.detail.boldWeight}},T=function(e){var t=e.post,n=(0,c.l)();return l.createElement(A,{isLoggedIn:!0,post:t,numFreeStoriesRemaining:0},l.createElement(v,null,l.createElement("strong",{className:n(R)},"This member-only story is on us.")," ",l.createElement(l.Fragment,null,l.createElement("span",{className:n({textDecoration:"underline"})},"Upgrade")," to access all of Medium.")))},B=function(e){var t=e.post,n=(0,s.$L)(),r=(0,d.WZ)(),o=(0,a.R)(),c=o.loading,u=o.error,m=o.value,p=!!m;return(0,l.useEffect)((function(){c||u||n.event("meter.viewed",{uiType:p?i.H.LIHighlightCTA:i.H.LOHighlightCTA,postId:t.id,meterCount:0})}),[c,u,p]),c||u?null:r?l.createElement(S,{post:t,viewer:m}):p?l.createElement(T,{post:t}):null},L=n(69733),P=n(42126),O=n(39204),_=n(15088),N=n(79480),D=n(28072),M=n(52290),F=n(36557),z=n(92679),U=n(27715),H=n(49728),j=n(28160),W=n(46696),G=n(57975),K=n(80296),Z=n(53259),Y=n.n(Z),Q=n(2680),J=n(75636),X=n(31905),$=n(61221),q=n(79959),ee=function(e){var t=e.postId,n=(0,a.R)().value,r="post_audio_button",o=(0,q.ST)((0,p.Nw)("ShowPay",{}),{dimension:r,postId:t});return n?l.createElement(y.C,{source:"upgrade_membership",dimension:r},l.createElement(x.a,{redirectUrl:o},l.createElement($.H,null))):l.createElement(E.r,{operation:"register",susiEntry:r,actionUrl:o},l.createElement($.H,null))},te=Y()({loader:function(){return n.e(285).then(n.bind(n,41778))},modules:["src/components/post/text-to-speech/SpeechifyWidget"],webpack:function(){return[41778]},loading:function(e){var t=e.children;return l.createElement(l.Fragment,null,t)},render:(0,X.X)("SpeechifyWidget")}),ne=l.forwardRef((function(e,t){var n=e.postId,r=e.postBodyRef,o=e.isLockedPreviewOnly,i=(0,s.$L)(),c=(0,a.R)().value,d=(0,J.z)({name:"enable_members_only_audio",placeholder:!1}),u=!(null==c||!c.membership),m=(0,Q.u5)().paragraphRefsMappers.paragraphTitlesRefsByStyleMap,p=(0,l.useState)(!0),V=(0,K.A)(p,2),f=V[0],g=V[1];l.useEffect((function(){return i.event("experiment.eligible",{experimentId:"ec7b685b3f40"}),g(!0)}),[m]);var h=!u&&(o||d);return l.createElement(M.a,{display:"inline-flex",alignItems:"flex-start",boxSizing:"border-box"},l.createElement(M.a,{flexGrow:"1"},l.createElement(D.P,{size:"full"},l.createElement(M.a,{ref:t,display:"flex"},h?d?l.createElement(ee,{postId:n}):null:f?l.createElement($.m,{onClick:function(){if(f){var e=new Audio;e.autoplay=!0,e.src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",g(!1)}}}):l.createElement(te,{postId:n,postBodyRef:r},l.createElement($.H,{isPlaying:!0}))))))})),re=function(e){var t,n,r=e.post,o=e.isLockedPreviewOnly,a=e.postBodyRef,i=null!==(t=r.wordCount)&&void 0!==t?t:0,s=null!==(n=r.detectedLanguage)&&void 0!==n?n:"",c=r.isPublished;return!c||c&&"en"===s&&i>20?l.createElement(ne,{postId:r.id,postBodyRef:a,isLockedPreviewOnly:o}):null},le=n(26311),oe=n(87039),ae=n(85050),ie=n(36469),se=n(88474),ce=n(29977),de=n(5562),ue=n(54654),me=n(22841),pe=n(41299),Ve=n(5600),fe=n(27049),ge=n(46963),he=function(e){var t=e.author,n=(0,ge.U)(),r=(0,u.f)(t),o=(0,se.E)(t),i=n===fe.i.xs,s=(0,a.R)().value,c=s&&s.id===t.id;return null!=t&&t.name?l.createElement(M.a,{display:"flex",alignItems:"center",marginBottom:"2px"},l.createElement(M.a,{display:"flex",flexWrap:"nowrap",alignItems:"center"},l.createElement(M.a,{display:"flex",alignItems:"center"},i?l.createElement(F.kZ,{color:"DARKER",scale:"L"},l.createElement(m.N,{linkStyle:"SUBTLE",inline:!0,href:r,"data-testid":"authorName"},t.name)):l.createElement(pe.R,{placement:"bottom",targetDistance:ce.f,mouseLeaveDelay:100,mouseEnterDelay:Ve.A,noArrow:!0,popoverRenderFn:function(){return l.createElement(me.J,{user:t})}},l.createElement(F.kZ,{color:"DARKER",scale:"L"},l.createElement(m.N,{linkStyle:"SUBTLE",inline:!0,href:r,"data-testid":"authorName"},t.name)))),o&&l.createElement(M.a,{marginLeft:"2px",marginTop:"1px"},l.createElement(ie.b,{size:"S"})),!c&&l.createElement(l.Fragment,null,l.createElement(de.d,{display:"inline",margin:"0 8px"}),l.createElement(F.kZ,{scale:"L"},l.createElement(ue.P,{user:t,susiEntry:"post_header",isLinkStyle:!0}))))):null},ve=n(43002),Ee=n(66356),xe=function(e){var t;return{fontWeight:null!==(t=e.newFonts.detail.boldWeight)&&void 0!==t?t:"bold"}},be=function(e){var t=e.collection,n=e.marginLeft,r=(0,c.l)();return t?l.createElement(M.a,{marginLeft:n,display:"inline-block"},l.createElement("strong",{className:r(xe)},t.name)):null},ye=n(86329);!function(e){e.CollectionPendingAsEditorAndAuthor="CollectionPendingAsEditorAndAuthor",e.CollectionPendingKnown="CollectionPendingKnown",e.CollectionPending="CollectionPending",e.CollectionUnsubmitted="CollectionUnsubmitted",e.Normal="Normal"}(r||(r={}));var we=function(e){var t=e.post,n=Ae(t);if(!t||!n)return null;var o=t.pendingCollection,a=l.createElement(be,{collection:o,marginLeft:"4px"});switch(n){case r.CollectionPendingAsEditorAndAuthor:return l.createElement(l.Fragment,null,"Draft in",a);case r.CollectionPendingKnown:return l.createElement(l.Fragment,null,"Draft submitted to",a);case r.CollectionPending:return l.createElement(l.Fragment,null,"Submitted draft");case r.CollectionUnsubmitted:return l.createElement(l.Fragment,null,"Unsubmitted draft");case r.Normal:return l.createElement(l.Fragment,null,"Draft")}},Ae=function(e){var t,n=(0,a.R)().value,l=null==e?void 0:e.pendingCollection,o=null==e||null===(t=e.creator)||void 0===t?void 0:t.id,i=!!n&&!(null==l||!l.creator)&&l.creator.id===n.id,s=(0,ye.J)(l).viewerEdge,c=null==s?void 0:s.isEditor,d=i||c,u=d||!!n&&n.id===o,m=u&&l;return!e||e.isPublished?null:u&&"PENDING"===e.statusForCollection?m?d&&n&&n.id===o?r.CollectionPendingAsEditorAndAuthor:r.CollectionPendingKnown:r.CollectionPending:"NOT_YET_SUBMITTED"===e.statusForCollection?r.CollectionUnsubmitted:r.Normal},ke=n(39),Ie=function(e){var t=e.post,n=e.label,r=e.linkToCollection,o=function(e){return"APPROVED"===e.statusForCollection&&e.isPublished}(t),a=(0,ke.Z)({name:"detail",scale:"M",color:"LIGHTER"}),i=(0,c.l)();return o?l.createElement("div",{className:i([a,{display:"flex",whiteSpace:"pre-wrap"}])},l.createElement(M.a,{flexShrink:"0",tag:"span",marginRight:"4px"},n),r):null},Ce=function(e){var t=e.post,n=e.label,r=e.linkToCollection;return l.createElement(M.a,{display:"flex",marginBottom:{xs:"2px",sm:"2px",md:void 0,lg:void 0,xl:void 0}},l.createElement(Ie,{post:t,label:n,linkToCollection:r}),l.createElement(ae.V,{md:!0,lg:!0,xl:!0},l.createElement(de.d,{display:"inline",margin:"0 8px"})))},Se=n(42136),Re=function(e){var t=e.publishedAt,n=e.timeToRead,r=e.post,o=(0,p.au)(),a=r.collection;return l.createElement(M.a,{display:"flex",alignItems:"flex-start",flexWrap:"wrap",flexDirection:{xs:"column",sm:"column",md:void 0,lg:void 0,xl:void 0}},!!a&&l.createElement(Ce,{post:r,label:"Published in",linkToCollection:l.createElement(ve.w,{collection:a,clamp:1,testId:"publicationName"})}),!!a&&r.isNewsletter&&l.createElement(Ce,{post:r,label:"Sent as a",linkToCollection:l.createElement(m.N,{inline:!0,href:o("ShowCollectionNewsletterLandingPage",{collectionSlug:a.slug||""}),linkStyle:"SUBTLE"},l.createElement(F.kZ,{scale:"M",color:"DARKER"},"Newsletter"))}),l.createElement(F.kZ,{color:"LIGHTER",scale:"M",tag:"span"},l.createElement(Se.z,{middotPadding:"8px",flexGrow:"1",display:"flex"},n?l.createElement("span",{"data-testid":"storyReadTime"},n):null,t?l.createElement(Ee.c,{timestamp:t,testId:"storyPublishDate"}):l.createElement(we,{post:r}))))},Te=n(96783),Be=n(23406),Le=n(68120),Pe=function(e){var t,n=e.avatars,r=void 0===n?null:n,o=e.publishedAt,a=e.timeToRead,i=e.post,s=e.publisher,c=e.postBodyRef,d=e.isLockedPreviewOnly,u=(0,l.useContext)(Be.u).openSidebar;return l.createElement(M.a,{width:"100%",speechifyIgnore:!0},l.createElement(oe.K,{avatar:r,title:l.createElement(he,{author:s}),description:l.createElement(Re,{publishedAt:o,timeToRead:a,post:i}),leftMargin:"12px",alignItems:{xs:"flex-start",sm:"flex-start",md:"center",lg:"center",xl:"center"}}),l.createElement(Le.Q,{leftButtons:l.createElement(l.Fragment,null,l.createElement(M.a,{width:"74px"},l.createElement(G.W,{post:i,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldShowResponsiveLabelText:!0,shouldHideClapsText:!0,susiEntry:"clap_footer",buttonColor:"LIGHTER",countScale:"S",testId:"headerClapButton"})),l.createElement(le._,{trackingData:{postId:i.id},responsesCount:null===(t=i.postResponses)||void 0===t?void 0:t.count,allowResponses:i.allowResponses,isLimitedState:i.isLimitedState,isPublished:i.isPublished,handleClick:u,iconStylesOverride:{marginTop:"0px"},countStylesOverride:{marginLeft:"4px",marginTop:"0px"},responsesCountScale:"S",testId:"headerResponseButton"})),rightButtons:l.createElement(l.Fragment,null,l.createElement(ae.V,{md:!0,lg:!0,xl:!0},l.createElement(Te.T,{post:i,susiEntry:"bookmark_footer",testId:"headerBookmarkButton"})),l.createElement(re,{postBodyRef:c,isLockedPreviewOnly:d,post:i}),l.createElement(W.b,{post:i,source:"post_actions_header",isResponsive:!0,testId:"headerSocialShareButton"}),l.createElement(j.G,{post:i,isResponsive:!0,testId:"headerStoryOptionsButton"}))}))},Oe=function(e){var t=e.post,n=e.hasBannerImage,r=function(e){var t,n=e.post,r=e.postViewerEdgeLoading,o=(0,L.wA)(),i=(0,d.WZ)();(0,l.useEffect)((function(){o((0,P.QT)(!1))}),[]);var s=(0,a.R)(),c=s.loading,u=s.error,m=s.value;if(u||c)return!1;if(i)return!(!n.isLocked||r||null!=m&&m.membership&&!n.content.validatedShareKey&&i.startsWith("v2/"));var p=!(null==m||!m.id||null===(t=n.creator)||void 0===t||!t.id||m.id!==n.creator.id);return!(null!=m&&m.membership)&&!p&&!n.content.validatedShareKey&&n.isLocked&&!n.content.isLockedPreviewOnly}({post:t,postViewerEdgeLoading:e.postViewerEdgeLoading});return l.createElement(l.Fragment,null,l.createElement(M.a,{marginTop:r&&!n?{xs:"8px",sm:"8px",md:"24px",lg:"24px",xl:"24px"}:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"}}),r&&l.createElement(M.a,{display:"flex",justifyContent:"center"},l.createElement(M.a,{width:"100%",minWidth:"0",maxWidth:"728px",marginBottom:"24px",marginRight:n?void 0:"8px",marginLeft:n?void 0:"8px"},l.createElement(B,{post:t}))))},_e=function(e){var t=e.post,n=e.postBodyRef,r=null==t?void 0:t.creator,a=null==t?void 0:t.collection;return r?l.createElement(o.B,{name:"byline",type:"byline",offset:{left:-600}},l.createElement(M.a,{display:"flex",justifyContent:"space-between",speechifyIgnore:!0},l.createElement(Pe,{avatars:l.createElement(_.h,{author:r,collection:a,withAuthorTooltip:!0,authorTestId:"authorPhoto",collectionTestId:"publicationPhoto"}),publishedAt:t.firstPublishedAt,publisher:r,timeToRead:!t.isShortform&&t.readingTime?"".concat((0,U.M8)(t.readingTime)," min read"):void 0,post:t,postBodyRef:n,isLockedPreviewOnly:!!t.content.isLockedPreviewOnly}))):null};function Ne(e,t){return"".concat(t,"_").concat(e[t]?e[t].length:0)}function De(e,t,n,r,l){e[t]||(e[t]=[]),e[t].push({order:n,component:r,insertType:l})}var Me=function(e){var t=e.children,n=e.paddingRight,r=void 0===n?"12px":n;return l.createElement(M.a,{padding:"6px ".concat(r," 6px 10px"),border:"neutral.primary",borderRadius:"8px",display:"flex",alignItems:"center",gap:"6px"},t)};function Fe(e){var t=e.post,n=e.hasTitle,r=e.firstBoostedAt,o=(0,J.z)({name:"enable_prototype_boost_labeling",placeholder:!1});return l.createElement(M.a,{marginBottom:n?"16px":"0px",display:"flex",gap:"12px"},t.isLocked&&(o?l.createElement(Me,null,l.createElement(O.F,{post:t,label:"Member-only story",showLabelMobile:!0})):l.createElement(O.F,{post:t,label:"Member-only story",showLabelMobile:!0})),!!r&&l.createElement(F.kZ,{scale:"M",color:"LIGHTER"},l.createElement(Me,{paddingRight:"12px"},l.createElement(z.A,null),l.createElement("span",null,"Boosted"))))}function ze(e){var t=e.children;return e.includeMaxWidth?l.createElement(D.P,{size:"app"},t):l.createElement(l.Fragment,null,t)}function Ue(e,t,n,r,o){return function(a){var i,s,c,d=n.kickerIndex||n.titleIndex,u=n.bannerImageIndex,m="number"==typeof n.titleIndex,p="number"==typeof u&&m&&d&&u<d,V=p&&null!==(i=null===(s=t[d])||void 0===s?void 0:s.name)&&void 0!==i?i:"first";return e.isLocked?c=l.createElement(M.a,{key:"meter",speechifyIgnore:!0},l.createElement(Oe,{post:e,hasBannerImage:!0,postViewerEdgeLoading:r}),l.createElement(ze,{includeMaxWidth:!p},l.createElement(Fe,{post:e,hasTitle:m,firstBoostedAt:o}))):o&&(c=l.createElement(ze,{includeMaxWidth:!p},l.createElement(M.a,{marginTop:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"}},l.createElement(Fe,{post:e,hasTitle:m,firstBoostedAt:o})))),c&&De(a,V,"before",c,"METER"),a}}function He(e,t,n,r){return function(o){var a="number"==typeof n.titleIndex,i=n.subtitleIndex||n.titleIndex||0,s=t[i]&&t[i].name;if(s&&0===i&&!a){var c=l.createElement(M.a,{marginTop:{xs:"24px",sm:"24px",md:"32px",lg:"32px",xl:"32px"},speechifyIgnore:!0},l.createElement(_e,{post:e,postBodyRef:r,key:"insert_postBylineGroupComponent_".concat(Ne(o,"first"))}));De(o,"first","before",l.createElement(D.P,{size:"app",key:"insert_MaxWidth_PostBylineGroupComponent_".concat(Ne(o,"first"))},c),"BYLINE")}else s&&De(o,s,"after",l.createElement(_e,{post:e,postBodyRef:r,key:"insert_PostBylineGroupComponent_".concat(Ne(o,s))}),"BYLINE");return o}}function je(e){var t,n,r=e.post,l=e.postBodyRef,o=e.postViewerEdgeLoading,a=e.firstBoostedAt,i=r&&r.content&&r.content.bodyModel&&r.content.bodyModel.paragraphs||void 0,s=(null==r||null===(t=r.content)||void 0===t||null===(n=t.bodyModel)||void 0===n?void 0:n.sections)||[],c=(0,H.zH)(s,0,null==i?void 0:i.length),d=i.filter((function(e,t){return t<c}));if(i){var u=(0,N.z)(d);return[Ue(r,i,u,o,a),He(r,i,u,l)].reduce((function(e,t){return t(e)}),{})}}},61221:(e,t,n)=>{n.d(t,{m:()=>h,H:()=>g});var r,l=n(80296),o=n(96540),a=n(32996),i=n(20036),s=n(49287),c=n(50684);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(null,arguments)}const u=function(e){return o.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12m7.25-3a.5.5 0 0 1 .5-.5h.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5h-.5a.5.5 0 0 1-.5-.5zm4.5-.5a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 .5.5h.5a.5.5 0 0 0 .5-.5V9a.5.5 0 0 0-.5-.5z",clipRule:"evenodd"})))};var m;function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(null,arguments)}const V=function(e){return o.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),m||(m=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832",clipRule:"evenodd"})))};var f=n(60603),g=function(e){var t=e.onClick,n=e.isPlaying,r=n?"Pause":"Listen";return o.createElement(i.u,{icon:n?o.createElement(u,null):o.createElement(V,null),onClick:t,text:r,tooltipText:r,ariaLabel:r,testId:"audioPlayButton"})},h=function(e){var t=e.onClick,n=(0,c.MW)(),r=(0,s.PJ)(n||"").susiEntry,i=(0,f.e)("post_audio_button"===r),d=(0,l.A)(i,3),u=d[0],m=d[2];return o.createElement(a.A,{isVisible:u,message:"You can now listen to stories",dismissText:"Got it",dismiss:m,targetDistance:10},o.createElement(g,{onClick:t}))}},68120:(e,t,n)=>{n.d(t,{Q:()=>u});var r=n(96540),l=function(){return{overflowX:"scroll","::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"}},o=n(85050),a=n(44402),i={display:"flex",alignItems:"center","> *":{marginRight:{xs:"8px",sm:"8px",md:"24px",lg:"24px",xl:"24px"},flexShrink:0},"> :last-child":{marginRight:{xs:"24px",sm:"8px",md:0,lg:0,xl:0}}},s=function(e){return"solid 1px ".concat(e.colorTokens.background.neutral.secondary.base)},c=function(e){return{xs:void 0,sm:void 0,md:s(e),lg:s(e),xl:s(e)}},d=function(e){return function(t){return{display:"flex",justifyContent:"space-between",borderTop:c(t),borderBottom:c(t),margin:{xs:"".concat(null!=e?e:"24px"," -24px 0"),sm:"".concat(null!=e?e:"24px"," 0 0"),md:"".concat(null!=e?e:"32px"," 0 0"),lg:"".concat(null!=e?e:"32px"," 0 0"),xl:"".concat(null!=e?e:"32px"," 0 0")},padding:{xs:"0",sm:"0",md:"3px 8px",lg:"3px 8px",xl:"3px 8px"}}}},u=function(e){var t=e.leftButtons,n=e.rightButtons,s=e.marginTop,c=(0,a.l)();return r.createElement("div",{className:c(d(s))},r.createElement(o.V,{md:!0,lg:!0,xl:!0,displayValue:"flex",alignItems:"center"},t),r.createElement("div",{className:c([i,l])},r.createElement(o.V,{xs:!0,width:"16px"}),n))}},62427:(e,t,n)=>{n.d(t,{L:()=>A});var r,l=n(64467),o=n(96540),a=n(86527),i=n(5600),s=n(36557),c=n(72130),d=n(49287),u=n(44402);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(null,arguments)}const p=function(e){return o.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},e),r||(r=o.createElement("path",{d:"M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"})))};var V;function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(null,arguments)}const g=function(e){return o.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},e),V||(V=o.createElement("path",{fillRule:"evenodd",d:"M18.472 20.272c-1.194 0-2.335-.355-3.39-1.052a8 8 0 0 1-.676-.499 8.7 8.7 0 0 1-2.284.307C7.638 19.028 4 15.668 4 11.54c.001-4.148 3.64-7.508 8.123-7.508 4.475 0 8.118 3.36 8.118 7.49 0 1.977-.816 3.826-2.307 5.231.022.163.058.336.114.528.184.662.515 1.325.985 1.958.144.202.165.461.055.672a.66.66 0 0 1-.588.365h-.029z",clipRule:"evenodd"})))};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e,t){return"LIGHTER"===t?e.colorTokens.foreground.neutral.primary.hover:e.colorTokens.foreground.neutral.secondary.base},x=function(e,t){return function(n){return{cursor:t?"not-allowed":"pointer",border:0,opacity:1,padding:"4px 0",display:"flex",alignItems:"center",fill:"LIGHTER"===e?n.colorTokens.foreground.neutral.secondary.base:n.baseColor.fill.light,":hover":t?void 0:{fill:E(n,e),"& p":{color:E(n,e)}}}}},b=function(e){return{cursor:"not-allowed",fill:e.colorTokens.foreground.neutral.secondary.base,opacity:.25}},y=function(e){var t=e.disabled,n=e.handleClick,r=e.href,l=e.children,i=e.responsesCountColor,s=e.testId,c=(0,u.l)();return r?o.createElement(a.N,{onClick:n,href:r,rules:x(i,t),"aria-label":"responses",disabled:t,"data-testid":s},l):o.createElement("button",{onClick:n,className:c(x(i,t)),"aria-label":"responses",disabled:t,"data-testid":s},l)},w=function(e){var t=e.disabled,n=e.iconStylesOverride,r=(0,u.l)();return t?o.createElement(g,{className:r([b])}):o.createElement(p,{className:r([n])})},A=function(e){var t=e.disabled,n=e.disabledTooltipText,r=void 0===n?"":n,l=e.responsesCount,a=e.handleClick,m=e.trackingData,p=e.iconStylesOverride,V=e.countStylesOverride,f=e.responsesCountColor,g=void 0===f?"LIGHTER":f,h=e.responsesCountScale,E=void 0===h?"M":h,x=e.href,b=(0,u.l)(),A=(0,c.$L)(),k=(0,d.jI)(),I=!t&&l,C=(0,o.useCallback)((function(e){null==a||a(e),A.event("responses.viewAllClicked",v(v({},m),{},{source:k}))}),[A,a,m,k]);return o.createElement(i.G,{tooltipText:t?r:"Respond",targetDistance:15},o.createElement(y,{handleClick:t?void 0:C,responsesCountColor:g,disabled:t,href:x},o.createElement(w,{disabled:t,iconStylesOverride:p}),!!I&&o.createElement(s.kZ,{scale:E,color:g},o.createElement("span",{className:"pw-responses-count ".concat(b([V]))},l))))}},26311:(e,t,n)=>{n.d(t,{_:()=>a});var r=n(58168),l=n(96540),o=n(62427),a=function(e){var t=!e.allowResponses||e.isLimitedState||!e.isPublished,n=(0,l.useMemo)((function(){return e.isPublished?e.allowResponses?e.isLimitedState?"This feature is temporarily disabled":void 0:"Responses hidden":"You cannot respond to a draft"}),[e.isPublished,e.allowResponses,e.isLimitedState]);return l.createElement(o.L,(0,r.A)({},e,{disabled:t,disabledTooltipText:n}))}},23406:(e,t,n)=>{n.d(t,{u:()=>r});var r=n(96540).createContext({addContinueThisThreadSidebar:function(){return null},openSidebar:function(){return null},closeSidebar:function(){return null}})},79197:(e,t,n)=>{var r;n.d(t,{H:()=>r}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(r||(r={}))}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/7394.81f240ca.chunk.js.map